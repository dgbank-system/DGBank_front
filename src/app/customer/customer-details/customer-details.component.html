

<nav class="navbar navbar-expand-lg navbar-dark ">
    <a  href="home" class="navbar-brand" ><img href="" src="assets\images\asd.png" alt="logo" width="200"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    
    </button>
    <div class="collapse navbar-collapse" id="navbarColor02">
       <ul class="navbar-nav mr-auto">
        <h1>Customers</h1>
       </ul>
                 <form class="form-inline my-2 my-lg-0">
                  <input type="search"  (ngModelChange)="searchCustomer(key.value)" #key="ngModel" ngModel
                   name="key" id="searchName" class="form-control mr-sm-2" placeholder="Search customers..." required>
               </form>
    </div> 
  </nav>
  <hr>
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
  <div class="container" id="main-container">
    <div class="row">
      <table class="table table-bordered table-hover table-striped ">
        <thead >
          <tr>
            <th>Customer Number</th>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>    
            <th>Accounts</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let customer of customers">
            <td class="text-center">{{ customer?.id }}</td>
            <td class="text-center">{{ customer?.firstName }}  {{ customer?.lastName }}</td>
            <td class="text-center">{{ customer?.email }}</td>
            <td>{{ customer?.phone }}</td>
            <td>
              <ng-container *ngIf="customer.accounts && customer.accounts.length > 0">
                <span *ngFor="let account of customer.accounts">{{ account?.id }}, </span>
              </ng-container>
            </td>
            <td>
              <a href="#" class="btn btn-primary tooltips" data-placement="top" data-toggle="tooltip" data-original-title="Edit" (click)="onOpenModel($event, customer, 'edit')">
                <i class="fa fa-pencil"></i>
              </a>
              <a href="#" class="btn btn-secondary tooltips" data-placement="top" data-toggle="tooltip" data-original-title="Delete" (click)="onOpenModel($event, customer, 'delete')">
                <i class="fa fa-times"></i>
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  
  
 
  <!-- EditEmployeeModel -->
  <div class="modal fade" id="EditcustomerModel" tabindex="-1" aria-labelledby="employeeEditModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="employeeEditModalLabel">Edit Customer</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
        <form #editForm="ngForm" >
          <div class="form-group">
            <label for="name">First Name</label>
            <input type="text" ngModel="{{Editcustomer?.firstName}}" name="firstName" class="form-control" id="name" aria-describedby="emailHelp" placeholder="Name">
         </div>
         <div class="form-group">
          <label for="name">Last Name</label>
          <input type="text" ngModel="{{Editcustomer?.lastName}}" name="lastName" class="form-control" id="name" aria-describedby="emailHelp" placeholder="Name">
       </div>
         <input type="hidden" ngModel="{{Editcustomer?.id}}" name="id" class="form-control" id="id" placeholder="Email">
         
         <div class="form-group">
            <label for="email">Email Address</label>
            <input type="email" ngModel="{{Editcustomer?.email}}" name="email" class="form-control" id="email" placeholder="Email">
         </div>
         <div class="form-group">
            <label for="phone">Phone</label>
            <input type="text" ngModel="{{Editcustomer?.phone}}" name="phone" class="form-control" id="jopTitle" placeholder="Jop title">
         </div>
         <div class="form-group">
            <label for="phone">Address</label>
            <input type="text" ngModel="{{Editcustomer?.address}}" name="address" class="form-control" id="phone" placeholder="Address">
         </div>
         <div class="form-group">
            <label for="phone">Birth-Date</label>
            <input type="text" ngModel="{{Editcustomer?.date}}" name="date" class="form-control" id="imageUrl" placeholder="BD">
         </div>
         <div class="modal-footer">
            <button type="button" id="" data-dismiss="modal" class="btn btn-secondary">Close</button>
            <button (click)="onUpdateEmployee(editForm.value)" data-dismiss="modal" class="btn btn-primary" >Save changes</button>
         </div>
        </form>
        </div>    
      </div>
    </div>
  </div>
  
  <!-- DeleteEmployeeModel -->
  <div class="modal" id="DeletecustomerModel" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Delete Customer</h5>
          <button type="button" class="close" data-dismiss="modal" #deleteModalCloseButton aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>Are you sure you want to delete this customer {{ Editcustomer?.firstName}}?</p>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="confirmDeleteCheckbox" [(ngModel)]="confirmDelete">
            <label class="form-check-label" for="confirmDeleteCheckbox">I confirm that I want to delete this customer.</label>
          </div>
        </div>
        <div class="modal-footer">
          <button (click)="onDeleteEmloyee(Editcustomer.id)" type="button" class="btn btn-danger" id="deleteButton" [disabled]="!confirmDelete">Delete</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>
  
  
         

